schema: '2.0'
stages:
  data_cleaning:
    cmd: python src/data/data_cleaning.py
    deps:
    - path: data/raw
      hash: md5
      md5: 3f6b1f16820ff76d1529c410d8c858bb.dir
      size: 9578343
      nfiles: 2
    - path: src/data/data_cleaning.py
      hash: md5
      md5: 6a73910637b622acd52a027b67fe4729
      size: 9133
    params:
      params.yaml:
        data_cleaning.test_size: 0.2
    outs:
    - path: data/cleaned
      hash: md5
      md5: 5816d603bd60674df25754137470cc3b.dir
      size: 3516505
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/cleaned
      hash: md5
      md5: 5816d603bd60674df25754137470cc3b.dir
      size: 3516505
      nfiles: 2
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 14d62505c54eaf3a147e52eb02c90cf5
      size: 8321
    outs:
    - path: data/processed
      hash: md5
      md5: 25b8f4c29c7f3c0923649495338f9331.dir
      size: 19887847
      nfiles: 2
    - path: models/processor.pkl
      hash: md5
      md5: a8c9e8b1987626f839b03f0f5e9c57ed
      size: 4510
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/processed
      hash: md5
      md5: 25b8f4c29c7f3c0923649495338f9331.dir
      size: 19887847
      nfiles: 2
    - path: src/model/model_building.py
      hash: md5
      md5: 68809104eedda8857655f94fb454928b
      size: 4936
    params:
      params.yaml:
        train.LGBM:
          max_depth: 20
          learning_rate: 0.64445579820183
          subsample: 0.554662572718122
          min_child_weight: 8
          min_split_gain: 0.200905822105394
          reg_lambda: 10.798160523492442
          random_state: 41
        train.Random_Forest:
          n_estimators: 908
          max_depth: 18
          min_samples_split: 7
          min_samples_leaf: 20
          max_features:
          bootstrap: true
          random_state: 41
    outs:
    - path: models/final_model.pkl
      hash: md5
      md5: bd99428d7979190178a5aea4e71e4618
      size: 96323057
    - path: models/stacking_regressor.pkl
      hash: md5
      md5: c9192256f9bdfe4bb58d46e72c26f906
      size: 96297386
    - path: models/stacking_transformer.pkl
      hash: md5
      md5: 24e267bf33e2f43243f77f1103fa23e7
      size: 629
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/processed
      hash: md5
      md5: 25b8f4c29c7f3c0923649495338f9331.dir
      size: 19887847
      nfiles: 2
    - path: models/final_model.pkl
      hash: md5
      md5: bd99428d7979190178a5aea4e71e4618
      size: 96323057
    - path: src/model/model_evaluation.py
      hash: md5
      md5: eb720fe6afbc89ed68c1f4cad350ca63
      size: 8668
    outs:
    - path: reports/eval_metrics.json
      hash: md5
      md5: 7c8e0ed6e5cc1e5300226525e21bff3c
      size: 274
    - path: reports/models_info.json
      hash: md5
      md5: bb47c6125153bc352903cdf49057c698
      size: 233
  model_registration:
    cmd: python src/model/model_register.py
    deps:
    - path: reports/models_info.json
      hash: md5
      md5: bb47c6125153bc352903cdf49057c698
      size: 233
    - path: src/model/model_register.py
      hash: md5
      md5: 3a87b379fda1e1c6ca804ae5dff26078
      size: 3919
